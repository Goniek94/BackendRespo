{
  "timestamp": "2025-09-15T10:25:02.904Z",
  "summary": {
    "backendFiles": 60,
    "frontendFiles": 42,
    "totalMatches": 1012,
    "patterns": {
      "Notification imports": 112,
      "Notification models": 23,
      "NotificationService/Manager": 403,
      "Notification creation": 141,
      "Socket notification": 145,
      "Notification controllers": 13,
      "Notification routes": 7,
      "UnifiedNotification": 64,
      "NotificationContext": 75,
      "useNotifications": 29
    }
  },
  "backend": {
    "admin\\controllers\\listings\\adController.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../../../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import Notification from '../../../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import Notification from '../../../models/communication/notification.js';"
          }
        ]
      }
    ],
    "admin\\controllers\\reports\\reportController.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../../../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import Notification from '../../../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import Notification from '../../../models/communication/notification.js';"
          }
        ]
      }
    ],
    "controllers\\communication\\adMessages.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          },
          {
            "lineNumber": 63,
            "content": "await notificationManager.notifyNewMessage(recipientUser._id.toString(), senderName, null);"
          },
          {
            "lineNumber": 146,
            "content": "await notificationManager.notifyNewMessage(ownerId.toString(), senderName, adTitle);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew",
          "notifyNew"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 63,
            "content": "await notificationManager.notifyNewMessage(recipientUser._id.toString(), senderName, null);"
          },
          {
            "lineNumber": 146,
            "content": "await notificationManager.notifyNewMessage(ownerId.toString(), senderName, adTitle);"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification"
        ],
        "count": 8,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import socketService from '../../services/socketService.js';"
          },
          {
            "lineNumber": 50,
            "content": "if (socketService.isUserOnline(recipientUser._id.toString())) {"
          },
          {
            "lineNumber": 133,
            "content": "if (socketService.isUserOnline(ownerObjectId.toString())) {"
          }
        ]
      }
    ],
    "controllers\\communication\\conversations.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          },
          {
            "lineNumber": 171,
            "content": "await notificationManager.notifyNewMessage("
          },
          {
            "lineNumber": 276,
            "content": "await notificationManager.notifyNewMessage("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew",
          "notifyNew"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 171,
            "content": "await notificationManager.notifyNewMessage("
          },
          {
            "lineNumber": 276,
            "content": "await notificationManager.notifyNewMessage("
          }
        ]
      }
    ],
    "controllers\\communication\\messageBasics.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          },
          {
            "lineNumber": 294,
            "content": "await notificationManager.notifyNewMessage(recipientId, senderName, adTitle);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 294,
            "content": "await notificationManager.notifyNewMessage(recipientId, senderName, adTitle);"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService"
        ],
        "count": 6,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import socketService from '../../services/socketService.js';"
          },
          {
            "lineNumber": 261,
            "content": "if (socketService.isUserOnline(recipientUser._id.toString())) {"
          },
          {
            "lineNumber": 288,
            "content": "const shouldNotify = socketService.shouldSendMessageNotification(recipientId, senderIdStr);"
          }
        ]
      }
    ],
    "controllers\\index.js": [
      {
        "pattern": "Notification controllers",
        "matches": [
          "Notifications Controller"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 12,
            "content": "// Notifications Controllers"
          }
        ]
      }
    ],
    "controllers\\notifications\\index.js": [
      {
        "pattern": "Notification controllers",
        "matches": [
          "Notifications Controller"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "* Notifications Controllers Index"
          }
        ]
      }
    ],
    "controllers\\notifications\\notificationController.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "notificationService",
          "NotificationService",
          "notificationService"
        ],
        "count": 19,
        "lines": [
          {
            "lineNumber": 58,
            "content": "* Klasa NotificationService - odpowiada za zarządzanie powiadomieniami w systemie"
          },
          {
            "lineNumber": 61,
            "content": "class NotificationService {"
          },
          {
            "lineNumber": 75,
            "content": "console.warn('[NotificationService] Próba utworzenia powiadomienia bez ID użytkownika');"
          },
          {
            "lineNumber": 80,
            "content": "console.warn('[NotificationService] Próba utworzenia powiadomienia bez treści');"
          },
          {
            "lineNumber": 92,
            "content": "console.warn(`[NotificationService] Użytkownik o ID ${userId} nie istnieje`);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../../models/communication/notification",
          "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../../utils/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyNew",
          "createNotification",
          "createNotification",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyNew",
          "createNotification",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification"
        ],
        "count": 26,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../../utils/notificationTypes.js';"
          },
          {
            "lineNumber": 72,
            "content": "async createNotification(userId, title, message, type = NotificationType.SYSTEM_NOTIFICATION, options = {}) {"
          },
          {
            "lineNumber": 138,
            "content": "async notifyAdCreated(userId, adTitle, adId = null) {"
          },
          {
            "lineNumber": 147,
            "content": "return this.createNotification(userId, title, message, NotificationType.LISTING_ADDED, options);"
          },
          {
            "lineNumber": 158,
            "content": "async notifyAdExpiringSoon(userId, adTitle, daysLeft, adId = null) {"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification"
        ],
        "count": 14,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import socketService from '../../services/socketService.js';"
          },
          {
            "lineNumber": 119,
            "content": "if (socketService.isUserOnline(userId)) {"
          },
          {
            "lineNumber": 492,
            "content": "if (socketService.isUserOnline(userId)) {"
          },
          {
            "lineNumber": 520,
            "content": "if (socketService.isUserOnline(userId)) {"
          },
          {
            "lineNumber": 557,
            "content": "if (socketService.isUserOnline(userId)) {"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../../models/communication/notification.js';"
          }
        ]
      }
    ],
    "controllers\\notifications\\notificationHelpers.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { NotificationType, notificationTemplates } from '../../utils/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import { NotificationType, notificationTemplates } from '../../utils/notificationTypes.js';"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "sendNotification"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import socketService from '../../services/socketService.js';"
          },
          {
            "lineNumber": 145,
            "content": "export const sendNotificationToUser = (userId, notification) => {"
          },
          {
            "lineNumber": 150,
            "content": "if (socketService.isUserOnline(userId)) {"
          },
          {
            "lineNumber": 163,
            "content": "sendNotificationToUser"
          }
        ]
      }
    ],
    "controllers\\payments\\transactionController.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          },
          {
            "lineNumber": 131,
            "content": "await notificationManager.createNotification("
          },
          {
            "lineNumber": 223,
            "content": "await notificationManager.createNotification("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 131,
            "content": "await notificationManager.createNotification("
          },
          {
            "lineNumber": 223,
            "content": "await notificationManager.createNotification("
          }
        ]
      }
    ],
    "controllers\\user\\profileController.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import Notification from '../../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import Notification from '../../models/communication/notification.js';"
          }
        ]
      }
    ],
    "index.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "NotificationManager",
          "notificationManager"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 19,
            "content": "import notificationManager from './services/notificationManager.js';"
          },
          {
            "lineNumber": 151,
            "content": "// Inicjalizacja NotificationManager"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from './services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 19,
            "content": "import notificationManager from './services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 18,
            "content": "import socketService from './services/socketService.js';"
          },
          {
            "lineNumber": 149,
            "content": "socketService.initialize(server);"
          }
        ]
      }
    ],
    "middleware\\realtimeNotifications.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 8,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import enhancedNotificationService from '../services/enhancedNotificationService.js';"
          },
          {
            "lineNumber": 35,
            "content": "enhancedNotificationService.createNotification("
          },
          {
            "lineNumber": 86,
            "content": "enhancedNotificationService.createNotification("
          },
          {
            "lineNumber": 143,
            "content": "enhancedNotificationService.createNotification("
          },
          {
            "lineNumber": 219,
            "content": "enhancedNotificationService.createNotification("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import enhancedNotificationService from '../services/enhancedNotification",
          "import { NotificationType } from '../utils/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import enhancedNotificationService from '../services/enhancedNotificationService.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 14,
            "content": "export const notifyNewMessage = async (req, res, next) => {"
          },
          {
            "lineNumber": 35,
            "content": "enhancedNotificationService.createNotification("
          },
          {
            "lineNumber": 86,
            "content": "enhancedNotificationService.createNotification("
          },
          {
            "lineNumber": 143,
            "content": "enhancedNotificationService.createNotification("
          },
          {
            "lineNumber": 219,
            "content": "enhancedNotificationService.createNotification("
          }
        ]
      }
    ],
    "models\\communication\\notification.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { NotificationType } from '../../utils/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { NotificationType } from '../../utils/notificationTypes.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models.Notification || mongoose.model('Notification', notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 153,
            "content": "const Notification = mongoose.models.Notification || mongoose.model('Notification', notificationSchema);"
          }
        ]
      }
    ],
    "routes\\communication\\messagesRoutes.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 37,
            "content": "import notificationService from '../../controllers/notifications/notificationController.js';"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationService from '../../controllers/notifications/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 37,
            "content": "import notificationService from '../../controllers/notifications/notificationController.js';"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notificationService from '../../controllers/notifications/notificationController"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 37,
            "content": "import notificationService from '../../controllers/notifications/notificationController.js';"
          }
        ]
      }
    ],
    "routes\\index.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationRoutes from './notifications/notification",
          "import * as notificationsRoutesModule from './notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationRoutes from './notifications/notificationRoutes.js';"
          },
          {
            "lineNumber": 22,
            "content": "import * as notificationsRoutesModule from './notifications/index.js';"
          }
        ]
      },
      {
        "pattern": "Notification routes",
        "matches": [
          "notifications/notificationRoutes",
          "notificationsRoutes",
          "notifications': notificationRoutes"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationRoutes from './notifications/notificationRoutes.js';"
          },
          {
            "lineNumber": 22,
            "content": "import * as notificationsRoutesModule from './notifications/index.js';"
          },
          {
            "lineNumber": 51,
            "content": "'notifications': notificationRoutes,"
          }
        ]
      }
    ],
    "routes\\listings\\adManagementRoutes.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService",
          "notificationService",
          "notificationService"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import { notificationService } from '../../controllers/notifications/notificationController.js';"
          },
          {
            "lineNumber": 90,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, status);"
          },
          {
            "lineNumber": 243,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'odnowione');"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import { notificationService } from '../../controllers/notifications/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import { notificationService } from '../../controllers/notifications/notificationController.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyAd"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 90,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, status);"
          },
          {
            "lineNumber": 243,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'odnowione');"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notificationService } from '../../controllers/notifications/notificationController"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import { notificationService } from '../../controllers/notifications/notificationController.js';"
          }
        ]
      }
    ],
    "routes\\listings\\ads\\crud.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "notificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "notificationService"
        ],
        "count": 8,
        "lines": [
          {
            "lineNumber": 14,
            "content": "import NotificationService from '../../../services/notificationService.js';"
          },
          {
            "lineNumber": 219,
            "content": "await NotificationService.createListingPublishedNotification(req.user.userId, ad);"
          },
          {
            "lineNumber": 267,
            "content": "await NotificationService.createListingPublishedNotification(ad.owner.toString(), ad);"
          },
          {
            "lineNumber": 269,
            "content": "await NotificationService.createListingExpiredNotification(ad.owner.toString(), ad);"
          },
          {
            "lineNumber": 272,
            "content": "await NotificationService.createSystemNotification("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationService from '../../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 14,
            "content": "import NotificationService from '../../../services/notificationService.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 561,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'usunięte');"
          }
        ]
      }
    ],
    "routes\\listings\\commentRoutes.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import Notification from '../../models/communication/notification.js'; // Model powiadomień"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification",
          "createNotification"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 47,
            "content": "const createNotification = async (user, content) => {"
          },
          {
            "lineNumber": 101,
            "content": "await createNotification(ad.owner, `Twój post \"${ad.make} ${ad.model}\" otrzymał nowy komentarz.`);"
          },
          {
            "lineNumber": 176,
            "content": "await createNotification(comment.user, 'Twój komentarz został usunięty.');"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import Notification from '../../models/communication/notification.js'; // Model powiadomień"
          }
        ]
      }
    ],
    "routes\\listings\\favoriteRoutes.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "notificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import NotificationService from '../../services/notificationService.js';"
          },
          {
            "lineNumber": 111,
            "content": "// Używamy try/catch wewnątrz, aby złapać błędy z NotificationService"
          },
          {
            "lineNumber": 113,
            "content": "const notification = await NotificationService.createListingLikedNotification(ad.owner, ad, req.user.userId);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationService from '../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import NotificationService from '../../services/notificationService.js';"
          }
        ]
      }
    ],
    "routes\\listings\\handlers\\createAd\\adCreation.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import notificationManager from '../../../../services/notificationManager.js';"
          },
          {
            "lineNumber": 149,
            "content": "await notificationManager.notifyAdCreated(userId, adTitle, adId);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import notificationManager from '../../../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 149,
            "content": "await notificationManager.notifyAdCreated(userId, adTitle, adId);"
          }
        ]
      }
    ],
    "routes\\listings\\handlers\\createAdHandler.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import notificationManager from '../../../services/notificationManager.js';"
          },
          {
            "lineNumber": 453,
            "content": "await notificationManager.notifyAdCreated(req.user.userId, adTitle, ad._id);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import notificationManager from '../../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 453,
            "content": "await notificationManager.notifyAdCreated(req.user.userId, adTitle, ad._id);"
          }
        ]
      }
    ],
    "routes\\listings\\handlers\\statusHandler.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService",
          "notificationService",
          "notificationService",
          "notificationService"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import { notificationService } from '../../../controllers/notifications/notificationController.js';"
          },
          {
            "lineNumber": 55,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, statusText);"
          },
          {
            "lineNumber": 109,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'przedłużone o 30 dni');"
          },
          {
            "lineNumber": 154,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'usunięte');"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import { notificationService } from '../../../controllers/notifications/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import { notificationService } from '../../../controllers/notifications/notificationController.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyAd",
          "notifyAd"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 55,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, statusText);"
          },
          {
            "lineNumber": 109,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'przedłużone o 30 dni');"
          },
          {
            "lineNumber": 154,
            "content": "await notificationService.notifyAdStatusChange(ad.owner.toString(), adTitle, 'usunięte');"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notificationService } from '../../../controllers/notifications/notificationController"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import { notificationService } from '../../../controllers/notifications/notificationController.js';"
          }
        ]
      }
    ],
    "routes\\notifications\\index.js": [
      {
        "pattern": "Notification routes",
        "matches": [
          "Notifications Routes"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "* Notifications Routes Index"
          }
        ]
      }
    ],
    "routes\\notifications\\notificationRoutes.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 23,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          },
          {
            "lineNumber": 32,
            "content": "const notification = await notificationManager.createNotification("
          },
          {
            "lineNumber": 76,
            "content": "notification = await notificationManager.notifyNewMessage("
          },
          {
            "lineNumber": 85,
            "content": "notification = await notificationManager.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 93,
            "content": "notification = await notificationManager.notifyPaymentStatusChange("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../../services/notification",
          "import Notification from '../../models/communication/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import notificationManager from '../../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "notifyNew",
          "notifyAd",
          "notifyAd",
          "notifyAd",
          "notifyAd",
          "notifyAd",
          "createNotification"
        ],
        "count": 8,
        "lines": [
          {
            "lineNumber": 32,
            "content": "const notification = await notificationManager.createNotification("
          },
          {
            "lineNumber": 76,
            "content": "notification = await notificationManager.notifyNewMessage("
          },
          {
            "lineNumber": 85,
            "content": "notification = await notificationManager.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 102,
            "content": "notification = await notificationManager.notifyAdCreated("
          },
          {
            "lineNumber": 110,
            "content": "notification = await notificationManager.notifyAdExpiringSoon("
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import Notification from '../../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\analyze-notification-flow.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationService",
          "notificationManager",
          "NotificationService",
          "NotificationService"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 37,
            "content": "'services/notificationManager.js',"
          },
          {
            "lineNumber": 87,
            "content": "log('1. Backend tworzy powiadomienie → notificationManager.js', 'cyan');"
          },
          {
            "lineNumber": 93,
            "content": "log('   - Socket.IO → services/UnifiedNotificationService.js', 'cyan');"
          },
          {
            "lineNumber": 172,
            "content": "'services/UnifiedNotificationService.js',"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import.*Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 218,
            "content": "/import.*Notifications/g,"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyNew",
          "notifyAd",
          "createNotification"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 104,
            "content": "/notifyAdCreated/g,"
          },
          {
            "lineNumber": 106,
            "content": "/notifyAdExpiring/g,"
          },
          {
            "lineNumber": 108,
            "content": "/createNotification/g,"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 89,
            "content": "log('3. Wysyła przez Socket.IO → socketService.js', 'cyan');"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 88,
            "content": "log('2. Zapisuje do bazy danych → models/communication/notification.js', 'cyan');"
          }
        ]
      },
      {
        "pattern": "Notification routes",
        "matches": [
          "notifications/notificationRoutes",
          "notifications/notificationRoutes"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 59,
            "content": "'routes/notifications/notificationRoutes.js'"
          },
          {
            "lineNumber": 90,
            "content": "log('4. Udostępnia przez API → routes/notifications/notificationRoutes.js', 'cyan');"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notifications/notificationController"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 39,
            "content": "'controllers/notifications/notificationController.js',"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification",
          "UnifiedNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 93,
            "content": "log('   - Socket.IO → services/UnifiedNotificationService.js', 'cyan');"
          },
          {
            "lineNumber": 172,
            "content": "'services/UnifiedNotificationService.js',"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "NotificationContext"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 94,
            "content": "log('   - Kontekst → contexts/NotificationContext.js', 'cyan');"
          },
          {
            "lineNumber": 173,
            "content": "'contexts/NotificationContext.js',"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 206,
            "content": "/useNotifications/g"
          }
        ]
      }
    ],
    "scripts\\check-notifications.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 6,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 26,
            "content": "notificationManager.initialize();"
          },
          {
            "lineNumber": 28,
            "content": "await notificationManager.notifyNewMessage(user._id.toString(), 'Jan Kowalski', 'Audi A4');"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification",
          "import notificationManager from '../services/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyNew",
          "notifyAd"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 27,
            "content": "await notificationManager.notifyAdCreated(user._id.toString(), 'BMW X5 2020', '507f1f77bcf86cd799439011');"
          },
          {
            "lineNumber": 29,
            "content": "await notificationManager.notifyAdAddedToFavorites(user._id.toString(), 'Mercedes C-Class', '507f1f77bcf86cd799439012');"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\check-user-token.js": [
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "NOTIFICATIONCONTEXT",
          "notificationContext",
          "NotificationContext",
          "notificationContext",
          "NotificationContext",
          "NotificationContext",
          "notificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext"
        ],
        "count": 13,
        "lines": [
          {
            "lineNumber": 44,
            "content": "// 2. Sprawdź NotificationContext - jak sprawdza token"
          },
          {
            "lineNumber": 47,
            "content": "const notificationContextPath = path.join(__dirname, '../../marketplace-frontend/src/contexts/NotificationContext.js');"
          },
          {
            "lineNumber": 49,
            "content": "log('  ✅ NotificationContext.js znaleziony', 'green');"
          },
          {
            "lineNumber": 52,
            "content": "log('  ❌ NotificationContext.js nie znaleziony', 'red');"
          },
          {
            "lineNumber": 83,
            "content": "log('2. NotificationContext sprawdza user?.token - zawsze undefined!', 'red');"
          }
        ]
      }
    ],
    "scripts\\create-test-notifications.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 8,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import unifiedNotificationService from '../services/unifiedNotificationService.js';"
          },
          {
            "lineNumber": 25,
            "content": "unifiedNotificationService.initialize();"
          },
          {
            "lineNumber": 41,
            "content": "const messageNotification = await unifiedNotificationService.notifyNewMessage("
          },
          {
            "lineNumber": 56,
            "content": "const likedNotification = await unifiedNotificationService.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 70,
            "content": "const paymentNotification = await unifiedNotificationService.notifyPaymentStatusChange("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import unifiedNotificationService from '../services/unifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import unifiedNotificationService from '../services/unifiedNotificationService.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew",
          "notifyAd",
          "createNotification",
          "notifyAd"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 41,
            "content": "const messageNotification = await unifiedNotificationService.notifyNewMessage("
          },
          {
            "lineNumber": 56,
            "content": "const likedNotification = await unifiedNotificationService.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 85,
            "content": "const systemNotification = await unifiedNotificationService.createNotification("
          },
          {
            "lineNumber": 101,
            "content": "const adNotification = await unifiedNotificationService.notifyAdCreated("
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification"
        ],
        "count": 8,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import unifiedNotificationService from '../services/unifiedNotificationService.js';"
          },
          {
            "lineNumber": 25,
            "content": "unifiedNotificationService.initialize();"
          },
          {
            "lineNumber": 41,
            "content": "const messageNotification = await unifiedNotificationService.notifyNewMessage("
          },
          {
            "lineNumber": 56,
            "content": "const likedNotification = await unifiedNotificationService.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 70,
            "content": "const paymentNotification = await unifiedNotificationService.notifyPaymentStatusChange("
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 118,
            "content": "console.log('4. Otwórz konsolę przeglądarki i sprawdź logi [NotificationContext]');"
          }
        ]
      }
    ],
    "scripts\\debug-frontend-notifications.js": [
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 141,
            "content": "console.log('5. NotificationContext nie jest poprawnie zainicjalizowany');"
          }
        ]
      }
    ],
    "scripts\\debug-notification-panel.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 17,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 17,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\diagnose-dual-api-connections.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 82,
            "content": "'../marketplace-frontend/src/services/UnifiedNotificationService.js'"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 82,
            "content": "'../marketplace-frontend/src/services/UnifiedNotificationService.js'"
          }
        ]
      }
    ],
    "scripts\\diagnose-notification-connection.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "notificationManager"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 79,
            "content": "console.log('  3. Sprawdź UnifiedNotificationService - pobieranie z API');"
          },
          {
            "lineNumber": 81,
            "content": "console.log('  5. Sprawdź czy notificationManager jest zainicjalizowany');"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 77,
            "content": "console.log('  1. Sprawdź socketService.js - autentykacja WebSocket');"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 79,
            "content": "console.log('  3. Sprawdź UnifiedNotificationService - pobieranie z API');"
          }
        ]
      }
    ],
    "scripts\\diagnose-notification-duplicates.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService",
          "NotificationService",
          "notificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "notificationService",
          "notificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 16,
        "lines": [
          {
            "lineNumber": 28,
            "content": "const notificationServiceJs = readFile(path.join(frontendPath, 'services/NotificationService.js'));"
          },
          {
            "lineNumber": 30,
            "content": "if (notificationsJs && notificationServiceJs) {"
          },
          {
            "lineNumber": 33,
            "content": "console.log('   - services/NotificationService.js (HTTP API)');"
          },
          {
            "lineNumber": 47,
            "content": "const usesNotificationServiceJs = notificationContext.includes(\"from '../services/NotificationService'\");"
          },
          {
            "lineNumber": 51,
            "content": "console.log(`   - Używa NotificationService.js: ${usesNotificationServiceJs ? '✅' : '❌'}`);"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "notificationContext",
          "NotificationContext",
          "notificationContext",
          "notificationContext",
          "notificationContext",
          "notificationContext",
          "notificationContext",
          "notificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext"
        ],
        "count": 12,
        "lines": [
          {
            "lineNumber": 39,
            "content": "// Sprawdź NotificationContext"
          },
          {
            "lineNumber": 43,
            "content": "const notificationContext = readFile(path.join(frontendPath, 'contexts/NotificationContext.js'));"
          },
          {
            "lineNumber": 46,
            "content": "const usesNotificationsJs = notificationContext.includes(\"from '../services/notifications'\");"
          },
          {
            "lineNumber": 48,
            "content": "const usesAxios = notificationContext.includes(\"import axios\");"
          },
          {
            "lineNumber": 69,
            "content": "const hasOn = notificationContext.includes(`notificationService.on('${event}'`);"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications",
          "useNotifications"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 93,
            "content": "const usesNotificationContext = content.includes('useNotifications');"
          },
          {
            "lineNumber": 98,
            "content": "console.log(`   - Używa useNotifications: ${usesNotificationContext ? '✅' : '❌'}`);"
          },
          {
            "lineNumber": 130,
            "content": "console.log('4. ✅ Sprawdź czy wszystkie komponenty używają useNotifications hook');"
          }
        ]
      }
    ],
    "scripts\\find-all-notification-duplicates.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "notificationManager",
          "NotificationService",
          "notificationManager",
          "NotificationService"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 100,
            "content": "{ name: 'NotificationService/Manager', regex: 'notification(Service|Manager)' },"
          },
          {
            "lineNumber": 243,
            "content": "console.log('💡 ROZWIĄZANIE: Zunifikuj do jednego serwisu (notificationManager.js)');"
          },
          {
            "lineNumber": 248,
            "content": "console.log('💡 ROZWIĄZANIE: Użyj tylko UnifiedNotificationService.js');"
          },
          {
            "lineNumber": 269,
            "content": "'Zunifikuj serwisy backend do notificationManager.js',"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "notifyNew",
          "notifyAd"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 102,
            "content": "{ name: 'Notification creation', regex: '(createNotification|notifyNew|notifyAd)' },"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "sendNotification",
          "socketService"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 103,
            "content": "{ name: 'Socket notification', regex: '(sendNotification|socketService)' },"
          }
        ]
      },
      {
        "pattern": "Notification routes",
        "matches": [
          "notifications.*routes"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 105,
            "content": "{ name: 'Notification routes', regex: 'notifications.*routes' },"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notifications.*controller"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 106,
            "content": "{ name: 'Notification controllers', regex: 'notifications.*controller' },"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification",
          "UnifiedNotification",
          "UnifiedNotification"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 107,
            "content": "{ name: 'UnifiedNotification', regex: '[Uu]nifiedNotification' },"
          },
          {
            "lineNumber": 248,
            "content": "console.log('💡 ROZWIĄZANIE: Użyj tylko UnifiedNotificationService.js');"
          },
          {
            "lineNumber": 270,
            "content": "'Użyj tylko UnifiedNotificationService.js w frontend',"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 108,
            "content": "{ name: 'NotificationContext', regex: '[Nn]otificationContext' },"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 109,
            "content": "{ name: 'useNotifications', regex: 'useNotifications' }"
          }
        ]
      }
    ],
    "scripts\\fix-notification-duplicates.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationManager",
          "notificationService",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 26,
        "lines": [
          {
            "lineNumber": 7,
            "content": "* 1. Zunifikuje wszystkie implementacje do notificationManager"
          },
          {
            "lineNumber": 21,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 22,
            "content": "newImport: \"import notificationManager from '../../services/notificationManager.js';\","
          },
          {
            "lineNumber": 24,
            "content": "{ old: 'notificationService.notifyNewMessage', new: 'notificationManager.notifyNewMessage' }"
          },
          {
            "lineNumber": 29,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "Import: \"import notificationService from '../notifications/notification",
          "Import: \"import notificationManager from '../../services/notification",
          "Import: \"import notificationService from '../notifications/notification",
          "Import: \"import notificationManager from '../../services/notification",
          "Import: \"import notificationService from '../notifications/notification",
          "Import: \"import notificationManager from '../../services/notification",
          "Import: \"import { notificationService } from '../notifications/notification",
          "Import: \"import notificationManager from '../../services/notification",
          "import notificationManager from '../services/notification"
        ],
        "count": 9,
        "lines": [
          {
            "lineNumber": 21,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 29,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 37,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 45,
            "content": "oldImport: \"import { notificationService } from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 122,
            "content": "import notificationManager from '../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew",
          "notifyNew",
          "notifyNew",
          "notifyNew",
          "notifyNew",
          "notifyNew",
          "createNotification",
          "createNotification",
          "notifyAd"
        ],
        "count": 9,
        "lines": [
          {
            "lineNumber": 24,
            "content": "{ old: 'notificationService.notifyNewMessage', new: 'notificationManager.notifyNewMessage' }"
          },
          {
            "lineNumber": 32,
            "content": "{ old: 'notificationService.notifyNewMessage', new: 'notificationManager.notifyNewMessage' }"
          },
          {
            "lineNumber": 40,
            "content": "{ old: 'notificationService.notifyNewMessage', new: 'notificationManager.notifyNewMessage' }"
          },
          {
            "lineNumber": 48,
            "content": "{ old: 'notificationService.createNotification', new: 'notificationManager.createNotification' }"
          },
          {
            "lineNumber": 141,
            "content": "const notification = await notificationManager.notifyAdCreated("
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notificationService from '../notifications/notificationController",
          "notificationService from '../notifications/notificationController",
          "notificationService from '../notifications/notificationController",
          "notificationService } from '../notifications/notificationController"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 21,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 29,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 37,
            "content": "oldImport: \"import notificationService from '../notifications/notificationController.js';\","
          },
          {
            "lineNumber": 45,
            "content": "oldImport: \"import { notificationService } from '../notifications/notificationController.js';\","
          }
        ]
      }
    ],
    "scripts\\fix-notifications-system.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "notificationManager",
          "notificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "notificationManager",
          "notificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager"
        ],
        "count": 34,
        "lines": [
          {
            "lineNumber": 26,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 63,
            "content": "// 6. Testowanie NotificationManager"
          },
          {
            "lineNumber": 354,
            "content": "* Testowanie NotificationManager"
          },
          {
            "lineNumber": 356,
            "content": "async testNotificationManager() {"
          },
          {
            "lineNumber": 360,
            "content": "console.log('❌ Brak użytkownika testowego - pomijam testy NotificationManager');"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification",
          "import notificationManager from '../services/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 24,
            "content": "import Notification from '../models/communication/notification.js';"
          },
          {
            "lineNumber": 26,
            "content": "import notificationManager from '../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 372,
            "content": "const notification = await notificationManager.createNotification("
          },
          {
            "lineNumber": 387,
            "content": "error: 'Metoda createNotification zwróciła null'"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "SocketService",
          "socketService",
          "SocketService",
          "socketService"
        ],
        "count": 11,
        "lines": [
          {
            "lineNumber": 27,
            "content": "import socketService from '../services/socketService.js';"
          },
          {
            "lineNumber": 470,
            "content": "console.log('  - Sprawdź czy socketService jest zainicjalizowany w index.js');"
          },
          {
            "lineNumber": 481,
            "content": "console.log('  - Zweryfikuj integrację z socketService');"
          },
          {
            "lineNumber": 532,
            "content": "// Sprawdź czy socketService jest dostępny"
          },
          {
            "lineNumber": 534,
            "content": "console.log('  ✅ SocketService jest zainicjalizowany');"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 24,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\fix-unread-message-count.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\test-all-notifications.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 13,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 29,
            "content": "test: () => notificationManager.notifyAdCreated(userId, 'BMW X5 2020', 'test-ad-id-123')"
          },
          {
            "lineNumber": 33,
            "content": "test: () => notificationManager.notifyAdExpiringSoon(userId, 'BMW X5 2020', 3, 'test-ad-id-123')"
          },
          {
            "lineNumber": 37,
            "content": "test: () => notificationManager.notifyAdExpired(userId, 'BMW X5 2020', 'test-ad-id-123')"
          },
          {
            "lineNumber": 41,
            "content": "test: () => notificationManager.notifyNewMessage(userId, 'Jan Kowalski', 'BMW X5 2020')"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../services/notification",
          "import('../models/communication/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 119,
            "content": "const Notification = (await import('../models/communication/notification.js')).default;"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyAd",
          "notifyAd",
          "notifyNew",
          "notifyAd"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 29,
            "content": "test: () => notificationManager.notifyAdCreated(userId, 'BMW X5 2020', 'test-ad-id-123')"
          },
          {
            "lineNumber": 33,
            "content": "test: () => notificationManager.notifyAdExpiringSoon(userId, 'BMW X5 2020', 3, 'test-ad-id-123')"
          },
          {
            "lineNumber": 37,
            "content": "test: () => notificationManager.notifyAdExpired(userId, 'BMW X5 2020', 'test-ad-id-123')"
          },
          {
            "lineNumber": 41,
            "content": "test: () => notificationManager.notifyNewMessage(userId, 'Jan Kowalski', 'BMW X5 2020')"
          },
          {
            "lineNumber": 45,
            "content": "test: () => notificationManager.notifyAdAddedToFavorites(userId, 'BMW X5 2020', 'test-ad-id-123')"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 119,
            "content": "const Notification = (await import('../models/communication/notification.js')).default;"
          }
        ]
      }
    ],
    "scripts\\test-backend-notification-fix.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 8,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 8,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\test-complete-notification-system.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager"
        ],
        "count": 12,
        "lines": [
          {
            "lineNumber": 18,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 55,
            "content": "console.log('\\n3️⃣ Inicjalizacja NotificationManager...');"
          },
          {
            "lineNumber": 57,
            "content": "console.log('✅ NotificationManager zainicjalizowany');"
          },
          {
            "lineNumber": 61,
            "content": "const testNotification = await notificationManager.notifyAdCreated("
          },
          {
            "lineNumber": 122,
            "content": "method: () => notificationManager.notifyNewMessage(testUser._id, 'Jan Kowalski', 'BMW X5 2020')"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../services/notification",
          "import Notification from '../models/communication/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 18,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 21,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyNew",
          "notifyAd"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 61,
            "content": "const testNotification = await notificationManager.notifyAdCreated("
          },
          {
            "lineNumber": 122,
            "content": "method: () => notificationManager.notifyNewMessage(testUser._id, 'Jan Kowalski', 'BMW X5 2020')"
          },
          {
            "lineNumber": 126,
            "content": "method: () => notificationManager.notifyAdAddedToFavorites(testUser._id, 'BMW X5 2020', 'test_ad_123')"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "socketService"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 19,
            "content": "import socketService from '../services/socketService.js';"
          },
          {
            "lineNumber": 105,
            "content": "socketService.initialize(server);"
          },
          {
            "lineNumber": 109,
            "content": "if (socketService.io) {"
          },
          {
            "lineNumber": 111,
            "content": "console.log(`📊 Aktualnie połączonych użytkowników: ${socketService.getTotalConnectionCount()}`);"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 21,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\test-frontend-api-connection.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 114,
            "content": "console.log('✅ Zunifikowany system notificationManager działa');"
          }
        ]
      }
    ],
    "scripts\\test-notification-date-fix.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 8,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 8,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\test-notification-deletion.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService",
          "notificationService",
          "notificationService",
          "notificationService",
          "notificationService"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 83,
            "content": "const notificationService = (await import('../controllers/notifications/notificationController.js')).notificationService;"
          },
          {
            "lineNumber": 85,
            "content": "if (notificationService && notificationService.deleteNotification) {"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification",
          "Import notification",
          "import('../controllers/notifications/notificationController.js')).notification"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import Notification from '../models/communication/notification.js';"
          },
          {
            "lineNumber": 82,
            "content": "// Import notification service"
          },
          {
            "lineNumber": 83,
            "content": "const notificationService = (await import('../controllers/notifications/notificationController.js')).notificationService;"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notificationService = (await import('../controllers/notifications/notificationController"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 83,
            "content": "const notificationService = (await import('../controllers/notifications/notificationController.js')).notificationService;"
          }
        ]
      }
    ],
    "scripts\\test-notification-duplication-fix.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 40,
            "content": "console.log('1. ✅ Usunięto podwójne emitowanie w UnifiedNotificationService');"
          },
          {
            "lineNumber": 45,
            "content": "console.log('   - Usunięto: unifiedNotificationService.on(\"notification\", handleNewNotification)');"
          },
          {
            "lineNumber": 49,
            "content": "console.log('   - Usunięto: unifiedNotificationService.off(\"notification\", handleNewNotification)');"
          },
          {
            "lineNumber": 53,
            "content": "console.log('- UnifiedNotificationService emituje: \"new_notification\" event (1x)');"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "sendNotification"
        ],
        "count": 6,
        "lines": [
          {
            "lineNumber": 1,
            "content": "const socketService = require('../services/socketService.js').default;"
          },
          {
            "lineNumber": 27,
            "content": "// Sprawdź czy socketService jest zainicjalizowany"
          },
          {
            "lineNumber": 35,
            "content": "socketService.sendNotification(testUserId, testNotification);"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "UnifiedNotification"
        ],
        "count": 5,
        "lines": [
          {
            "lineNumber": 40,
            "content": "console.log('1. ✅ Usunięto podwójne emitowanie w UnifiedNotificationService');"
          },
          {
            "lineNumber": 45,
            "content": "console.log('   - Usunięto: unifiedNotificationService.on(\"notification\", handleNewNotification)');"
          },
          {
            "lineNumber": 49,
            "content": "console.log('   - Usunięto: unifiedNotificationService.off(\"notification\", handleNewNotification)');"
          },
          {
            "lineNumber": 53,
            "content": "console.log('- UnifiedNotificationService emituje: \"new_notification\" event (1x)');"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "NotificationContext",
          "NotificationContext"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 44,
            "content": "console.log('2. ✅ Usunięto duplikujący się event listener w NotificationContext');"
          },
          {
            "lineNumber": 48,
            "content": "console.log('3. ✅ Zaktualizowano cleanup function w NotificationContext');"
          },
          {
            "lineNumber": 54,
            "content": "console.log('- NotificationContext nasłuchuje: \"new_notification\" event (1x)');"
          }
        ]
      }
    ],
    "scripts\\test-notification-flow.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import unifiedNotificationService from '../services/unifiedNotificationService.js';"
          },
          {
            "lineNumber": 24,
            "content": "unifiedNotificationService.initialize();"
          },
          {
            "lineNumber": 33,
            "content": "const messageNotification = await unifiedNotificationService.notifyNewMessage("
          },
          {
            "lineNumber": 54,
            "content": "const likedNotification = await unifiedNotificationService.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 74,
            "content": "const paymentNotification = await unifiedNotificationService.notifyPaymentStatusChange("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import unifiedNotificationService from '../services/unifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import unifiedNotificationService from '../services/unifiedNotificationService.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyNew",
          "notifyAd",
          "createNotification"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 33,
            "content": "const messageNotification = await unifiedNotificationService.notifyNewMessage("
          },
          {
            "lineNumber": 54,
            "content": "const likedNotification = await unifiedNotificationService.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 95,
            "content": "const systemNotification = await unifiedNotificationService.createNotification("
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import unifiedNotificationService from '../services/unifiedNotificationService.js';"
          },
          {
            "lineNumber": 24,
            "content": "unifiedNotificationService.initialize();"
          },
          {
            "lineNumber": 33,
            "content": "const messageNotification = await unifiedNotificationService.notifyNewMessage("
          },
          {
            "lineNumber": 54,
            "content": "const likedNotification = await unifiedNotificationService.notifyAdAddedToFavorites("
          },
          {
            "lineNumber": 74,
            "content": "const paymentNotification = await unifiedNotificationService.notifyPaymentStatusChange("
          }
        ]
      }
    ],
    "scripts\\test-notifications-as-user.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import('../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 96,
            "content": "const Notification = (await import('../models/communication/notification.js')).default;"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 96,
            "content": "const Notification = (await import('../models/communication/notification.js')).default;"
          }
        ]
      }
    ],
    "scripts\\test-simple-notification.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 14,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 14,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "scripts\\test-unified-notifications.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationManager",
          "notificationManager",
          "notificationManager",
          "notificationManager"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import notificationManager from '../services/notificationManager.js';"
          },
          {
            "lineNumber": 23,
            "content": "notificationManager.initialize();"
          },
          {
            "lineNumber": 25,
            "content": "const notification = await notificationManager.notifyAdCreated("
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationManager from '../services/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import notificationManager from '../services/notificationManager.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 25,
            "content": "const notification = await notificationManager.notifyAdCreated("
          }
        ]
      }
    ],
    "services\\enhancedNotificationService.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 32,
        "lines": [
          {
            "lineNumber": 7,
            "content": "* Ulepszona klasa NotificationService - rzeczywiste powiadomienia w czasie rzeczywistym"
          },
          {
            "lineNumber": 10,
            "content": "class EnhancedNotificationService {"
          },
          {
            "lineNumber": 54,
            "content": "logger.info('[EnhancedNotificationService] Serwis zainicjalizowany');"
          },
          {
            "lineNumber": 70,
            "content": "logger.debug(`[EnhancedNotificationService] Powiadomienie ${type} zablokowane przez preferencje użytkownika ${userId}`);"
          },
          {
            "lineNumber": 77,
            "content": "logger.debug(`[EnhancedNotificationService] Powiadomienie ${type} jest duplikatem dla użytkownika ${userId}`);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification",
          "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../utils/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../utils/notificationTypes.js';"
          },
          {
            "lineNumber": 66,
            "content": "async createNotification(userId, title, message, type = NotificationType.SYSTEM_NOTIFICATION, options = {}) {"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "SendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "SendNotification",
          "socketService",
          "sendNotification",
          "socketService",
          "sendNotification"
        ],
        "count": 13,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import socketService from './socketService.js';"
          },
          {
            "lineNumber": 29,
            "content": "if (socketService.io) {"
          },
          {
            "lineNumber": 69,
            "content": "if (!this.shouldSendNotification(userId, type)) {"
          },
          {
            "lineNumber": 136,
            "content": "const isUserOnline = socketService.isUserOnline(userId);"
          },
          {
            "lineNumber": 157,
            "content": "socketService.sendNotification(userId, notificationData);"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "services\\notificationManager.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "NotificationManager",
          "notificationManager",
          "NotificationManager",
          "notificationManager"
        ],
        "count": 48,
        "lines": [
          {
            "lineNumber": 10,
            "content": "class NotificationManager {"
          },
          {
            "lineNumber": 30,
            "content": "logger.info('[NotificationManager] Serwis już zainicjalizowany');"
          },
          {
            "lineNumber": 38,
            "content": "logger.info('[NotificationManager] Serwis zainicjalizowany pomyślnie');"
          },
          {
            "lineNumber": 46,
            "content": "logger.warn('[NotificationManager] SocketService nie jest dostępny');"
          },
          {
            "lineNumber": 55,
            "content": "logger.info(`[NotificationManager] Użytkownik ${userId} połączył się`);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification",
          "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../utils/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyNew",
          "createNotification",
          "notifyAd",
          "createNotification",
          "createNotification",
          "createNotification"
        ],
        "count": 12,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../utils/notificationTypes.js';"
          },
          {
            "lineNumber": 92,
            "content": "async createNotification(userId, title, message, type = NotificationType.SYSTEM_NOTIFICATION, options = {}) {"
          },
          {
            "lineNumber": 615,
            "content": "async notifyAdCreated(userId, adTitle, adId = null) {"
          },
          {
            "lineNumber": 624,
            "content": "return this.createNotification(userId, title, message, NotificationType.LISTING_ADDED, options);"
          },
          {
            "lineNumber": 627,
            "content": "async notifyAdExpiringSoon(userId, adTitle, daysLeft, adId = null) {"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "SocketService",
          "socketService",
          "SocketService",
          "socketService",
          "socketService",
          "SocketService",
          "socketService",
          "socketService",
          "socketService",
          "SendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "sendNotification",
          "SendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService"
        ],
        "count": 32,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import socketService from './socketService.js';"
          },
          {
            "lineNumber": 34,
            "content": "// Integracja z socketService przez event-based komunikację"
          },
          {
            "lineNumber": 42,
            "content": "* Konfiguruje integrację z socketService"
          },
          {
            "lineNumber": 44,
            "content": "setupSocketServiceIntegration() {"
          },
          {
            "lineNumber": 45,
            "content": "if (!socketService || !socketService.io) {"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "services\\notifications\\components\\NotificationPreferences.js": [
      {
        "pattern": "Socket notification",
        "matches": [
          "SendNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 95,
            "content": "shouldSendNotification(userId, type, priority = 5, channel = 'push') {"
          }
        ]
      }
    ],
    "services\\notifications\\NotificationDelivery.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { NotificationType } from '../../utils/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { NotificationType } from '../../utils/notificationTypes.js';"
          }
        ]
      }
    ],
    "services\\notifications\\NotificationPreferences.js": [
      {
        "pattern": "Socket notification",
        "matches": [
          "SendNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 14,
            "content": "shouldSendNotification(userId, type, priority = 1) {"
          }
        ]
      }
    ],
    "services\\notifications\\NotificationQueue.js": [
      {
        "pattern": "Socket notification",
        "matches": [
          "sendNotification",
          "sendNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 72,
            "content": "async sendOfflineNotifications(userId, sendNotificationCallback, updateDeliveryStatusCallback) {"
          },
          {
            "lineNumber": 99,
            "content": "await sendNotificationCallback(userId, notification);"
          }
        ]
      }
    ],
    "services\\notificationService.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "notificationService",
          "NotificationService",
          "notificationService",
          "notificationService"
        ],
        "count": 34,
        "lines": [
          {
            "lineNumber": 59,
            "content": "* Klasa NotificationService - odpowiada za zarządzanie powiadomieniami w systemie"
          },
          {
            "lineNumber": 63,
            "content": "class NotificationService {"
          },
          {
            "lineNumber": 84,
            "content": "logger.warn('[NotificationService] Próba utworzenia powiadomienia bez ID użytkownika');"
          },
          {
            "lineNumber": 89,
            "content": "logger.warn('[NotificationService] Próba utworzenia powiadomienia bez treści');"
          },
          {
            "lineNumber": 101,
            "content": "logger.warn(`[NotificationService] Użytkownik o ID ${userId} nie istnieje`);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notification from '../models/communication/notification",
          "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../utils/notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyNew",
          "createNotification",
          "createNotification",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "notifyAd",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification",
          "createNotification"
        ],
        "count": 22,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { NotificationType, NotificationTypeNames, NotificationTypeDescriptions, createNotificationData } from '../utils/notificationTypes.js';"
          },
          {
            "lineNumber": 81,
            "content": "async createNotification(userId, title, message, type = NotificationType.SYSTEM_NOTIFICATION, options = {}) {"
          },
          {
            "lineNumber": 342,
            "content": "async notifyAdCreated(userId, adTitle, adId = null) {"
          },
          {
            "lineNumber": 351,
            "content": "return this.createNotification(userId, title, message, NotificationType.LISTING_ADDED, options);"
          },
          {
            "lineNumber": 362,
            "content": "async notifyAdExpiringSoon(userId, adTitle, daysLeft, adId = null) {"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "sendNotification",
          "socketService",
          "socketService",
          "socketService",
          "socketService",
          "socketService"
        ],
        "count": 21,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import socketService from './socketService.js';"
          },
          {
            "lineNumber": 145,
            "content": "const isUserOnline = socketService.isUserOnline(userId);"
          },
          {
            "lineNumber": 164,
            "content": "socketService.sendNotification(userId, notificationData);"
          },
          {
            "lineNumber": 275,
            "content": "socketService.sendNotification(userId, notification);"
          },
          {
            "lineNumber": 685,
            "content": "if (socketService.isUserOnline(userId)) {"
          }
        ]
      },
      {
        "pattern": "Notification models",
        "matches": [
          "models/communication/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 1,
            "content": "import Notification from '../models/communication/notification.js';"
          }
        ]
      }
    ],
    "services\\socketService.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 206,
            "content": "// np. wywołanie metody z notificationService"
          }
        ]
      },
      {
        "pattern": "Socket notification",
        "matches": [
          "SocketService",
          "SocketService",
          "sendNotification",
          "sendNotification",
          "sendNotification",
          "sendNotification",
          "socketService",
          "SocketService",
          "socketService"
        ],
        "count": 9,
        "lines": [
          {
            "lineNumber": 6,
            "content": "* Klasa SocketService - zarządza połączeniami WebSocket i powiadomieniami w czasie rzeczywistym"
          },
          {
            "lineNumber": 9,
            "content": "class SocketService {"
          },
          {
            "lineNumber": 270,
            "content": "sendNotification(userId, notification) {"
          },
          {
            "lineNumber": 297,
            "content": "sendNotificationToMany(userIds, notification) {"
          },
          {
            "lineNumber": 303,
            "content": "this.sendNotification(userId, notification);"
          }
        ]
      }
    ],
    "tests\\notificationData.test.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { NotificationType, createNotificationData } from '../utils/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { NotificationType, createNotificationData } from '../utils/notificationTypes.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification",
          "createNotification",
          "createNotification"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { NotificationType, createNotificationData } from '../utils/notificationTypes.js';"
          },
          {
            "lineNumber": 5,
            "content": "test('createNotificationData returns expected object', () => {"
          }
        ]
      }
    ],
    "utils\\notificationTypes.js": [
      {
        "pattern": "Notification creation",
        "matches": [
          "createNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 93,
            "content": "export const createNotificationData = (userId, type, title, message, link = null, adId = null, metadata = {}) => {"
          }
        ]
      }
    ],
    "utils\\scheduledTasks.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService",
          "notificationService",
          "notificationService",
          "notificationService"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import notificationService from '../controllers/notifications/notificationController.js';"
          },
          {
            "lineNumber": 59,
            "content": "await notificationService.notifyAdExpiringSoon(ad.owner._id, adTitle, daysLeft);"
          },
          {
            "lineNumber": 112,
            "content": "await notificationService.notifyAdExpired(ad.owner._id, adTitle, ad._id.toString());"
          },
          {
            "lineNumber": 115,
            "content": "await notificationService.notifyAdStatusChange(ad.owner._id, adTitle, 'archived');"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationService from '../controllers/notifications/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import notificationService from '../controllers/notifications/notificationController.js';"
          }
        ]
      },
      {
        "pattern": "Notification creation",
        "matches": [
          "notifyAd",
          "notifyAd",
          "notifyAd"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 59,
            "content": "await notificationService.notifyAdExpiringSoon(ad.owner._id, adTitle, daysLeft);"
          },
          {
            "lineNumber": 112,
            "content": "await notificationService.notifyAdExpired(ad.owner._id, adTitle, ad._id.toString());"
          },
          {
            "lineNumber": 115,
            "content": "await notificationService.notifyAdStatusChange(ad.owner._id, adTitle, 'archived');"
          }
        ]
      },
      {
        "pattern": "Notification controllers",
        "matches": [
          "notificationService from '../controllers/notifications/notificationController"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import notificationService from '../controllers/notifications/notificationController.js';"
          }
        ]
      }
    ]
  },
  "frontend": {
    "scripts\\test-notifications-frontend.js": [
      {
        "pattern": "Notification creation",
        "matches": [
          "CreateNotification",
          "CreateNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 102,
            "content": "async function testCreateNotification(userId) {"
          },
          {
            "lineNumber": 170,
            "content": "await testCreateNotification(user.id);"
          }
        ]
      }
    ],
    "scripts\\test-websocket.js": [
      {
        "pattern": "Socket notification",
        "matches": [
          "SendNotification",
          "SendNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 104,
            "content": "function testSendNotification() {"
          },
          {
            "lineNumber": 175,
            "content": "await testSendNotification();"
          }
        ]
      }
    ],
    "server-optimizer.js": [
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 52,
            "content": "'NotificationContext'"
          }
        ]
      }
    ],
    "src\\App.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { NotificationProvider } from './contexts/Notification",
          "import ToastNotification from './components/notifications/ToastNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { NotificationProvider } from './contexts/NotificationContext';"
          },
          {
            "lineNumber": 10,
            "content": "import ToastNotification from './components/notifications/ToastNotification';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { NotificationProvider } from './contexts/NotificationContext';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Dashboard\\DashboardActions.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 16,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Listings\\AdminListings.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 10,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Promotions\\AdminPromotions.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Reports\\AdminReports.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 9,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Settings\\AdminSettings.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import SettingsNotifications from './SettingsNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import SettingsNotifications from './SettingsNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Settings\\SettingsGeneral.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Settings\\SettingsNotifications.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Settings\\SettingsSecurity.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Statistics\\AdminStatistics.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 10,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Statistics\\StatisticsExport.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 7,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\admin\\sections\\Users\\AdminUsers.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import useAdminNotifications from '../../hooks/useAdminNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 10,
            "content": "import useAdminNotifications from '../../hooks/useAdminNotifications';"
          }
        ]
      }
    ],
    "src\\components\\Navigation\\DesktopNav.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 7,
            "content": "const { unreadCount } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\Navigation\\MobileMenu.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationBadge from '../notifications/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import NotificationBadge from '../notifications/NotificationBadge';"
          }
        ]
      }
    ],
    "src\\components\\Navigation\\Navigation.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 16,
            "content": "const { unreadCount } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\notifications\\NotificationItem.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { getNotificationColor, getNotificationTypeName, getNotificationIcon } from '../../utils/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 5,
            "content": "import { getNotificationColor, getNotificationTypeName, getNotificationIcon } from '../../utils/NotificationTypes';"
          }
        ]
      }
    ],
    "src\\components\\notifications\\NotificationListItem.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { getNotificationColor, getNotificationTypeName, getNotificationIcon } from '../../utils/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import { getNotificationColor, getNotificationTypeName, getNotificationIcon } from '../../utils/NotificationTypes';"
          }
        ]
      }
    ],
    "src\\components\\notifications\\Notifications.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../contexts/Notification",
          "import NotificationsHeader from './Notification",
          "import NotificationsCategoriesPanel from './Notification",
          "import NotificationsListPanel from './Notification"
        ],
        "count": 4,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 6,
            "content": "import NotificationsHeader from './NotificationsHeader';"
          },
          {
            "lineNumber": 8,
            "content": "import NotificationsListPanel from './NotificationsListPanel';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 21,
            "content": "const { notifications, unreadCount, markAsRead, markAllAsRead, deleteNotification, isLoading } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\notifications\\NotificationsListPanel.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationItem from './Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import NotificationItem from './NotificationItem';"
          }
        ]
      }
    ],
    "src\\components\\notifications\\NotificationsPanel.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../contexts/Notification",
          "import NotificationItem from './Notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "NotificationContext"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 8,
            "content": "* Używa NotificationContext dla pełnej funkcjonalności"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 13,
            "content": "const { notifications, unreadCount, markAsRead, markAllAsRead, deleteNotification, isLoading } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\notifications\\ToastNotification.js": [
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 7,
            "content": "* Logika wyświetlania toastów jest teraz w NotificationContext"
          }
        ]
      }
    ],
    "src\\components\\profil\\dashboard\\hooks\\useUserDashboardData.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationContext from '../../../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import NotificationContext from '../../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "NotificationContext",
          "notificationContext",
          "NotificationContext",
          "NotificationContext",
          "notificationContext",
          "notificationContext",
          "NotificationContext",
          "NotificationContext",
          "notificationContext",
          "NotificationContext",
          "notificationContext",
          "notificationContext",
          "notificationContext",
          "notificationContext"
        ],
        "count": 15,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import NotificationContext from '../../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 17,
            "content": "const notificationContext = useContext(NotificationContext);"
          },
          {
            "lineNumber": 19,
            "content": "const isNotificationContextAvailable = notificationContext !== undefined && notificationContext !== null;"
          },
          {
            "lineNumber": 21,
            "content": "if (!isNotificationContextAvailable) {"
          },
          {
            "lineNumber": 58,
            "content": "messages: notificationContext?.unreadCount?.messages || dashboard.unreadMessagesCount || 0"
          }
        ]
      }
    ],
    "src\\components\\profil\\dashboard\\TabContent\\NotificationsTab.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../../../contexts/Notification",
          "import { dismissNotification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { useNotifications } from '../../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { useNotifications } from '../../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import { useNotifications } from '../../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 16,
            "content": "const { notifications, isLoading, fetchNotifications } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\profil\\dashboard\\UserPanel.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../../contexts/Notification",
          "import NotificationsTab from './TabContent/Notification",
          "import { dismissNotification"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 11,
            "content": "import NotificationsTab from './TabContent/NotificationsTab';"
          },
          {
            "lineNumber": 13,
            "content": "import { dismissNotification } from '../../../services/api';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      }
    ],
    "src\\components\\profil\\listings\\UserListings.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationsPanel from './components/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 10,
            "content": "import NotificationsPanel from './components/NotificationsPanel';"
          }
        ]
      }
    ],
    "src\\components\\profil\\messages\\hooks\\useConversations.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import { useNotifications } from '../../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "notificationContext",
          "notificationContext"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import { useNotifications } from '../../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 39,
            "content": "const notificationContext = useNotifications();"
          },
          {
            "lineNumber": 40,
            "content": "const decreaseMessageCount = notificationContext?.decreaseMessageCount;"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 6,
            "content": "import { useNotifications } from '../../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 39,
            "content": "const notificationContext = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\profil\\messages\\Messages.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 24,
            "content": "const { unreadCount } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\profil\\navigation\\MobilePanelSidebar.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 15,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 15,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 15,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 29,
            "content": "const { unreadCount } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\profil\\navigation\\ProfileNavigation.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../../contexts/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 16,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 16,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 16,
            "content": "import { useNotifications } from '../../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 51,
            "content": "const { unreadCount = { notifications: 0, messages: 0 } } = useNotifications();"
          }
        ]
      }
    ],
    "src\\components\\profil\\settings\\NotificationsPanel.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { fetchNotificationPreferences, updateNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { fetchNotificationPreferences, updateNotificationPreferences } from '../../../services/api/userSettingsApi';"
          }
        ]
      }
    ],
    "src\\components\\profil\\settings\\Settings.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import NotificationsSection from './components/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 13,
            "content": "import NotificationsSection from './components/NotificationsSection';"
          }
        ]
      }
    ],
    "src\\components\\profil\\UserProfileRoutes.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notifications from '../notifications/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 8,
            "content": "import Notifications from '../notifications/Notifications'; // GŁÓWNY komponent powiadomień"
          }
        ]
      }
    ],
    "src\\components\\routing\\AppRoutes.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import Notifications from '../profil/notifications/Notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 23,
            "content": "import Notifications from '../profil/notifications/Notifications';"
          }
        ]
      }
    ],
    "src\\contexts\\NotificationContext.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 22,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import unifiedNotificationService from '../services/UnifiedNotificationService';"
          },
          {
            "lineNumber": 92,
            "content": "unifiedNotificationService.getNotifications(),"
          },
          {
            "lineNumber": 134,
            "content": "await unifiedNotificationService.markAsRead(notificationId);"
          },
          {
            "lineNumber": 167,
            "content": "await unifiedNotificationService.markAllAsRead();"
          },
          {
            "lineNumber": 184,
            "content": "await unifiedNotificationService.deleteNotification(notificationId);"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import unifiedNotificationService from '../services/UnifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import unifiedNotificationService from '../services/UnifiedNotificationService';"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "unifiedNotification",
          "UnifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification"
        ],
        "count": 22,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import unifiedNotificationService from '../services/UnifiedNotificationService';"
          },
          {
            "lineNumber": 92,
            "content": "unifiedNotificationService.getNotifications(),"
          },
          {
            "lineNumber": 134,
            "content": "await unifiedNotificationService.markAsRead(notificationId);"
          },
          {
            "lineNumber": 167,
            "content": "await unifiedNotificationService.markAllAsRead();"
          },
          {
            "lineNumber": 184,
            "content": "await unifiedNotificationService.deleteNotification(notificationId);"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext",
          "NotificationContext"
        ],
        "count": 10,
        "lines": [
          {
            "lineNumber": 9,
            "content": "const NotificationContext = createContext();"
          },
          {
            "lineNumber": 13,
            "content": "const context = useContext(NotificationContext);"
          },
          {
            "lineNumber": 81,
            "content": "console.log('🚫 NotificationContext.fetchNotifications - brak autoryzacji lub użytkownika');"
          },
          {
            "lineNumber": 85,
            "content": "console.log('🔍 NotificationContext.fetchNotifications - START');"
          },
          {
            "lineNumber": 110,
            "content": "console.log('✅ NotificationContext - dane ustawione w state');"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 12,
            "content": "export const useNotifications = () => {"
          },
          {
            "lineNumber": 15,
            "content": "throw new Error('useNotifications musi być używany wewnątrz NotificationProvider');"
          }
        ]
      }
    ],
    "src\\contexts\\SocketContext.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import unifiedNotificationService from '../services/UnifiedNotificationService';"
          },
          {
            "lineNumber": 21,
            "content": "await unifiedNotificationService.connect();"
          },
          {
            "lineNumber": 31,
            "content": "setIsConnected(unifiedNotificationService.isConnected());"
          },
          {
            "lineNumber": 35,
            "content": "unifiedNotificationService.disconnect();"
          },
          {
            "lineNumber": 50,
            "content": "unifiedNotificationService.disconnect();"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import unifiedNotificationService from '../services/UnifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import unifiedNotificationService from '../services/UnifiedNotificationService';"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "unifiedNotification",
          "UnifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification",
          "unifiedNotification"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 3,
            "content": "import unifiedNotificationService from '../services/UnifiedNotificationService';"
          },
          {
            "lineNumber": 21,
            "content": "await unifiedNotificationService.connect();"
          },
          {
            "lineNumber": 31,
            "content": "setIsConnected(unifiedNotificationService.isConnected());"
          },
          {
            "lineNumber": 35,
            "content": "unifiedNotificationService.disconnect();"
          },
          {
            "lineNumber": 50,
            "content": "unifiedNotificationService.disconnect();"
          }
        ]
      }
    ],
    "src\\pages\\profile\\NotificationPage.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { useNotifications } from '../../contexts/Notification",
          "import { getNotificationIcon, getNotificationColor, formatNotificationDate } from '../../utils/Notification"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "NotificationContext",
        "matches": [
          "NotificationContext"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          }
        ]
      },
      {
        "pattern": "useNotifications",
        "matches": [
          "useNotifications",
          "useNotifications"
        ],
        "count": 2,
        "lines": [
          {
            "lineNumber": 4,
            "content": "import { useNotifications } from '../../contexts/NotificationContext';"
          },
          {
            "lineNumber": 25,
            "content": "} = useNotifications();"
          }
        ]
      }
    ],
    "src\\pages\\profile\\NotificationsPage.js": [
      {
        "pattern": "Notification imports",
        "matches": [
          "import { Notifications } from '../../components/notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 2,
            "content": "import { Notifications } from '../../components/notifications';"
          }
        ]
      }
    ],
    "src\\services\\api\\index.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "notificationService",
          "NotificationService",
          "notificationService"
        ],
        "count": 3,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import notificationService from '../UnifiedNotificationService'; // WebSocket notifications"
          },
          {
            "lineNumber": 20,
            "content": "notificationService,"
          }
        ]
      },
      {
        "pattern": "Notification imports",
        "matches": [
          "import notificationService from '../UnifiedNotificationService'; // WebSocket notification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import notificationService from '../UnifiedNotificationService'; // WebSocket notifications"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification"
        ],
        "count": 1,
        "lines": [
          {
            "lineNumber": 11,
            "content": "import notificationService from '../UnifiedNotificationService'; // WebSocket notifications"
          }
        ]
      }
    ],
    "src\\services\\UnifiedNotificationService.js": [
      {
        "pattern": "NotificationService/Manager",
        "matches": [
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService",
          "NotificationService"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 9,
            "content": "class UnifiedNotificationService {"
          },
          {
            "lineNumber": 39,
            "content": "console.error('UnifiedNotificationService API Error:', error);"
          },
          {
            "lineNumber": 72,
            "content": "console.log('🔍 UnifiedNotificationService.getNotifications() - START');"
          },
          {
            "lineNumber": 103,
            "content": "console.log('🔍 UnifiedNotificationService.getNotifications() - END');"
          },
          {
            "lineNumber": 470,
            "content": "const unifiedNotificationService = new UnifiedNotificationService();"
          }
        ]
      },
      {
        "pattern": "UnifiedNotification",
        "matches": [
          "UnifiedNotification",
          "UnifiedNotification",
          "UnifiedNotification",
          "UnifiedNotification",
          "unifiedNotification",
          "UnifiedNotification",
          "unifiedNotification"
        ],
        "count": 7,
        "lines": [
          {
            "lineNumber": 9,
            "content": "class UnifiedNotificationService {"
          },
          {
            "lineNumber": 39,
            "content": "console.error('UnifiedNotificationService API Error:', error);"
          },
          {
            "lineNumber": 72,
            "content": "console.log('🔍 UnifiedNotificationService.getNotifications() - START');"
          },
          {
            "lineNumber": 103,
            "content": "console.log('🔍 UnifiedNotificationService.getNotifications() - END');"
          },
          {
            "lineNumber": 470,
            "content": "const unifiedNotificationService = new UnifiedNotificationService();"
          }
        ]
      }
    ]
  },
  "recommendations": [
    "Zunifikuj serwisy backend do notificationManager.js",
    "Użyj tylko UnifiedNotificationService.js w frontend",
    "Zunifikuj komponenty powiadomień",
    "Usuń nieużywane pliki"
  ]
}